function invertWidthHeight(){$("#right-card").height($(window).width()),$("#right-card").width($(window).height()),$("#left-card").height($(window).width()),$("#left-card").width($(window).height())}function setupGameplayHandlers(){var e=document.getElementById("bottom-card");fenceContainer.addEventListener("webkitAnimationEnd",function(e){"pan-in"===e.animationName?$("#fence-container").css("visibility","hidden"):"knock-over"===e.animationName?(fenceContainer.className="lateral-move",nextGame()):"pan-out"===e.animationName?($(".door-holder").removeClass("not-slided"),$(".door-holder").addClass("slided")):"slidein-left-door"===e.animationName?($(".door-holder").removeClass("slided"),$(".door-holder").addClass("not-slided"),gameOver===!1?nextGame():lastScreen()):"slideout-left-door"===e.animationName&&(fenceContainer.className="lateral-move")},!1),document.getElementById("bottom-card").addEventListener("click",function(){e.className=e.className+" flipped"},!1)}function gameFinished(e){e===!0?($("#score-display").text("+100").fadeIn(300,function(){$("#score-display").fadeOut()}),$(".game-door").css("background","gold"),totalScore+=100):($("#score-display").text("-50").fadeIn(300,function(){$("#score-display").fadeOut()}),$(".game-door").css("background","red"),totalScore-=50),$("#fence-container").css("visibility",""),fenceContainer.className="lateral-back"}function nextGame(){var e=document.getElementById("questionScreen"),t=document.getElementById("canvas");if(1==askQuestionNext)askQuestionNext=!1,askQuestion(),e.style.visibility="visible",t.style.visibility="hidden";else{askQuestionNext=!0,e.style.visibility="hidden",t.style.visibility="visible";var a=Math.floor(Math.random()*gameObjectsArray.length);gameObjectsArray[a].startGame(),gamesPlayed++}5===gamesPlayed&&(gameOver=!0,$("#canvas").remove(),lastScreen())}function lastScreen(){var e=totalScore.toString();$("#scoreScreen").css("visibility","visible"),$("#score").append(e)}var nGames,fenceContainer,totalScore,gamesPlayed,askQuestionNext;gameOver=!1,gamesPlayed=0,askQuestionNext=!1,totalScore=0;var gameObjectsArray=[],invertWidthHeight,setupGameplayHandlers,nextGame,startGame1,askQuestion,startGame2,startGame3,startGame4;$(document).ready(function(){fenceContainer=document.getElementById("fence-container"),$("body").css("overflow","hidden"),invertWidthHeight(),setupGameplayHandlers(),$("#gameJs").load("./games/gameList.html")}),$(window).resize(function(){invertWidthHeight()});