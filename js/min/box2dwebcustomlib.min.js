function createBox(e,t,o,i,n){var a=new b2FixtureDef;a.density=5,a.friction=1,a.restitution=.5;var r=new b2BodyDef;r.type=b2Body.b2_dynamicBody,r.position.x=t,r.position.y=o,a.shape=new b2PolygonShape,a.shape.SetAsBox(i,n);var c=e.CreateBody(r);return c.CreateFixture(a),c}function createBall(e,t,o,i){var n=new b2FixtureDef;n.density=3,n.friction=2,n.restitution=.2;var a=new b2BodyDef;a.type=b2Body.b2_dynamicBody,a.position.x=t,a.position.y=o,n.shape=new b2CircleShape(i);var r=e.CreateBody(a);return r.CreateFixture(n),r}function buildPrismaticJoint(e,t,o,i,n){var a=new b2PrismaticJointDef;return a.Initialize(t,o,i,n),a.collideConnected=!1,a.lowerTranslation=0,a.upperTranslation=3,a.enableLimit=!0,a.maxMotorForce=400,a.motorSpeed=-.5,a.enableMotor=!0,e.CreateJoint(a)}function createStaticBox(e,t,o,i,n){var a=new b2FixtureDef;a.density=5,a.friction=1,a.restitution=.5;var r=new b2BodyDef;r.type=b2Body.b2_staticBody,r.position.x=t,r.position.y=o,a.shape=new b2PolygonShape,a.shape.SetAsBox(i,n);var c=e.CreateBody(r);return c.CreateFixture(a),c}function makeCar(e,t,o){var i=createBox(e,t,o,1,.4);i.name="chassis";var n=createBall(e,t-1.2,o+1,.4);n.name="backWheel";var a=createBall(e,t+1.2,o+1,.4);a.name="frontWheel",n.angularVelocity=0,a.angularVelocity=0;var r=createBox(e,t-1,o+.5,.4,.1),c=createBox(e,t+1,o+.5,.4,.1),b=(buildPrismaticJoint(e,i,r,new b2Vec2(t-1,o+.5),new b2Vec2(0,-1)),buildPrismaticJoint(e,i,c,new b2Vec2(t+1,o+.5),new b2Vec2(0,-1)),new b2RevoluteJointDef);b.Initialize(r,n,n.GetWorldCenter()),e.CreateJoint(b);var s=new b2RevoluteJointDef;return s.Initialize(c,a,a.GetWorldCenter()),e.CreateJoint(s),car=new Object,car.chassis=i,car.backShock=r,car.frontShock=c,car.backWheel=n,car.frontWheel=a,car}function createStaticTriange(e,t,o,i,n){var a=new b2FixtureDef;a.shape=new b2PolygonShape,a.density=1,a.friction=2,a.restitution=.5,a.shape.SetAsArray([new b2Vec2(t[0],t[1]),new b2Vec2(o[0],o[1]),new b2Vec2(i[0],i[1])],3);var r=new b2BodyDef;return r.type=b2Body.b2_staticBody,r.position.Set(n[0],n[1]),e.CreateBody(r).CreateFixture(a)}var b2Vec2=Box2D.Common.Math.b2Vec2,b2AABB=Box2D.Collision.b2AABB,b2BodyDef=Box2D.Dynamics.b2BodyDef,b2Body=Box2D.Dynamics.b2Body,b2FixtureDef=Box2D.Dynamics.b2FixtureDef,b2Fixture=Box2D.Dynamics.b2Fixture,b2World=Box2D.Dynamics.b2World,b2MassData=Box2D.Collision.Shapes.b2MassData,b2PolygonShape=Box2D.Collision.Shapes.b2PolygonShape,b2CircleShape=Box2D.Collision.Shapes.b2CircleShape,b2DebugDraw=Box2D.Dynamics.b2DebugDraw,b2MouseJointDef=Box2D.Dynamics.Joints.b2MouseJointDef,b2RevoluteJointDef=Box2D.Dynamics.Joints.b2RevoluteJointDef,b2PrismaticJointDef=Box2D.Dynamics.Joints.b2PrismaticJointDef,b2DistanceJointDef=Box2D.Dynamics.Joints.b2DistanceJointDef;